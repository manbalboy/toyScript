<!DOCTYPE html>
<html lang="en">
    <!--
     @ 작성자 : 정  훈 
     @ 이메일 : manbalboy@hanmail.net 
     @ Git : https://github.com/manbalboy/toyScript   ,  http://manbalboy.iptime.org:30000/hjeong/toyscript
     @ Date : 2020.05.10
     @ 유튜브 URL 유효성 검사 및 ID만 추출
     @ TODO 
    -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="../hjeong.js"></script>
    <script
    src="https://code.jquery.com/jquery-3.5.0.slim.min.js"
    integrity="sha256-MlusDLJIP1GRgLrOflUQtshyP0TwT/RHXsI1wWGnQhs="
    crossorigin="anonymous"></script>


    <script>
        //Youtube Url Chk
        function matchYoutubeUrl(url) {
            var p = /^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;
            var matches = url.match(p);
            if(matches){
                return matches[1];
            }
            return false;
        }

        //id 반환
        function check(sender){
            var url = $('#txt').val();
            var id = matchYoutubeUrl(url);
            if(id!=false){
                alert(id);
            }else{
                alert('Incorrect URL');
            }
        }
    </script>
</head>
<body>
    <input type="text" id="txt" placeholder="type you tube url" />

    <input type="button" onclick="check(this)" value="Validate URL" />
    <p id="aa"></p>
</body>
</html>